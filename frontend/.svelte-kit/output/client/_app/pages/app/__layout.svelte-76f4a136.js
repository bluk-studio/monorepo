import{S as SvelteComponent,i as init,s as safe_not_equal,e as element,k as space,c as claim_element,a as children,n as claim_space,d as detach,b as attr,R as set_style,f as insert,F as append,t as text,g as claim_text,B as group_outros,r as transition_out,u as check_outros,v as transition_in,T as add_render_callback,U as create_bidirectional_transition,V as slide,j as create_component,m as claim_component,o as mount_component,H as listen,h as set_data,w as destroy_component,P as component_subscribe,z as onMount,X as onDestroy,Y as destroy_each,l as empty,G as noop,Z as fade,D as create_slot,E as update_slot}from"../../chunks/vendor-adcc401c.js";import{g as goto}from"../../chunks/navigation-20968cc5.js";import{p as page}from"../../chunks/stores-e9c66975.js";import{A as AvailablePages,C as Categories,P as Pages,a as CurrentProject,b as ProfileProjects}from"../../chunks/AvailablePages.store-4be7f7f6.js";import{C as CurrentProfile}from"../../chunks/CurrentProfile.store-6e386cb1.js";import{S as SimpleIcon}from"../../chunks/SimpleIcon-9bf6c4b5.js";import{R as RadialSpinner}from"../../chunks/RadialSpinner-87915e8f.js";import"../../chunks/singletons-bb9012b7.js";/* empty css                                                               */function get_each_context_2(e,t,n){const a=e.slice();return a[17]=t[n],a}function get_each_context(e,t,n){const a=e.slice();return a[14]=t[n],a}function get_each_context_1(e,t,n){const a=e.slice();return a[17]=t[n],a}function create_if_block$2(e){let t,n,a,c,l,r,i=e[2].list.length<6&&create_if_block_9();const o=[create_if_block_1$2,create_else_block_1$1],s=[];function m(e,t){return e[2].list.length>=6?0:1}return a=m(e),c=s[a]=o[a](e),{c(){t=element("div"),i&&i.c(),n=space(),c.c(),this.h()},l(e){t=claim_element(e,"DIV",{id:!0,style:!0,class:!0});var a=children(t);i&&i.l(a),n=claim_space(a),c.l(a),a.forEach(detach),this.h()},h(){attr(t,"id","currentPageBadge-popover"),set_style(t,"width",e[2].list.length>=6?"360%":"180%"),set_style(t,"margin-top","-2px"),attr(t,"class","z-20 overflow-x-auto w-full absolute bg-gray-100 border-2 border-black pt-3 pb-2")},m(e,c){insert(e,t,c),i&&i.m(t,null),append(t,n),s[a].m(t,null),r=!0},p(e,l){e[2].list.length<6?i||(i=create_if_block_9(),i.c(),i.m(t,n)):i&&(i.d(1),i=null);let _=a;a=m(e),a===_?s[a].p(e,l):(group_outros(),transition_out(s[_],1,1,(()=>{s[_]=null})),check_outros(),c=s[a],c?c.p(e,l):(c=s[a]=o[a](e),c.c()),transition_in(c,1),c.m(t,null)),(!r||4&l)&&set_style(t,"width",e[2].list.length>=6?"360%":"180%")},i(e){r||(transition_in(c),add_render_callback((()=>{l||(l=create_bidirectional_transition(t,slide,{},!0)),l.run(1)})),r=!0)},o(e){transition_out(c),l||(l=create_bidirectional_transition(t,slide,{},!1)),l.run(0),r=!1},d(e){e&&detach(t),i&&i.d(),s[a].d(),e&&l&&l.end()}}}function create_if_block_9(e){let t,n,a,c,l,r;return{c(){t=element("div"),n=element("h1"),a=text("Страницы"),c=space(),l=element("p"),r=text("Отображаем только доступные вам страницы"),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var i=children(t);n=claim_element(i,"H1",{class:!0});var o=children(n);a=claim_text(o,"Страницы"),o.forEach(detach),c=claim_space(i),l=claim_element(i,"P",{class:!0});var s=children(l);r=claim_text(s,"Отображаем только доступные вам страницы"),s.forEach(detach),i.forEach(detach),this.h()},h(){attr(n,"class","text-md text-black font-medium"),attr(l,"class","text-xs text-black opacity-80"),attr(t,"class","w-full px-2")},m(e,i){insert(e,t,i),append(t,n),append(n,a),append(t,c),append(t,l),append(l,r)},d(e){e&&detach(t)}}}function create_else_block_1$1(e){let t,n,a=e[2].list,c=[];for(let r=0;r<a.length;r+=1)c[r]=create_each_block_2(get_each_context_2(e,a,r));const l=e=>transition_out(c[e],1,1,(()=>{c[e]=null}));return{c(){t=element("div");for(let e=0;e<c.length;e+=1)c[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var n=children(t);for(let t=0;t<c.length;t+=1)c[t].l(n);n.forEach(detach),this.h()},h(){attr(t,"class","mt-4")},m(e,a){insert(e,t,a);for(let n=0;n<c.length;n+=1)c[n].m(t,null);n=!0},p(e,n){if(14&n){let r;for(a=e[2].list,r=0;r<a.length;r+=1){const l=get_each_context_2(e,a,r);c[r]?(c[r].p(l,n),transition_in(c[r],1)):(c[r]=create_each_block_2(l),c[r].c(),transition_in(c[r],1),c[r].m(t,null))}for(group_outros(),r=a.length;r<c.length;r+=1)l(r);check_outros()}},i(e){if(!n){for(let e=0;e<a.length;e+=1)transition_in(c[e]);n=!0}},o(e){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)transition_out(c[t]);n=!1},d(e){e&&detach(t),destroy_each(c,e)}}}function create_if_block_1$2(e){let t,n,a=Categories,c=[];for(let r=0;r<a.length;r+=1)c[r]=create_each_block(get_each_context(e,a,r));const l=e=>transition_out(c[e],1,1,(()=>{c[e]=null}));return{c(){t=element("div");for(let e=0;e<c.length;e+=1)c[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var n=children(t);for(let t=0;t<c.length;t+=1)c[t].l(n);n.forEach(detach),this.h()},h(){attr(t,"class","w-full flex items-start justify-center")},m(e,a){insert(e,t,a);for(let n=0;n<c.length;n+=1)c[n].m(t,null);n=!0},p(e,n){if(14&n){let r;for(a=Categories,r=0;r<a.length;r+=1){const l=get_each_context(e,a,r);c[r]?(c[r].p(l,n),transition_in(c[r],1)):(c[r]=create_each_block(l),c[r].c(),transition_in(c[r],1),c[r].m(t,null))}for(group_outros(),r=a.length;r<c.length;r+=1)l(r);check_outros()}},i(e){if(!n){for(let e=0;e<a.length;e+=1)transition_in(c[e]);n=!0}},o(e){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)transition_out(c[t]);n=!1},d(e){e&&detach(t),destroy_each(c,e)}}}function create_if_block_8(e){let t,n,a;return n=new SimpleIcon({props:{name:e[17].icon,attrs:{class:"w-4 h-4 text-white","stroke-width":"2.5"}}}),{c(){t=element("div"),create_component(n.$$.fragment),this.h()},l(e){t=claim_element(e,"DIV",{style:!0,class:!0});var a=children(t);claim_component(n.$$.fragment,a),a.forEach(detach),this.h()},h(){var n;set_style(t,"background-color",null!=(n=e[17].iconColor)?n:"#fbbf24"),attr(t,"class","p-1.5 mr-2 mt-0.5 rounded-full")},m(e,c){insert(e,t,c),mount_component(n,t,null),a=!0},p(e,c){var l;const r={};4&c&&(r.name=e[17].icon),n.$set(r),(!a||4&c)&&set_style(t,"background-color",null!=(l=e[17].iconColor)?l:"#fbbf24")},i(e){a||(transition_in(n.$$.fragment,e),a=!0)},o(e){transition_out(n.$$.fragment,e),a=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_if_block_7(e){let t,n=e[17].description+"";return{c(){t=element("p"),this.h()},l(e){t=claim_element(e,"P",{class:!0}),children(t).forEach(detach),this.h()},h(){attr(t,"class","text-xs text-black opacity-80")},m(e,a){insert(e,t,a),t.innerHTML=n},p(e,a){4&a&&n!==(n=e[17].description+"")&&(t.innerHTML=n)},d(e){e&&detach(t)}}}function create_else_block_2(e){let t,n,a,c,l,r,i,o;function s(){return e[11](e[17])}return l=new SimpleIcon({props:{name:"chevron-right",attrs:{class:"w-4 h-4 text-black","stroke-width":"2.5"}}}),{c(){t=element("button"),n=element("p"),a=text("Перейти"),c=space(),create_component(l.$$.fragment),this.h()},l(e){t=claim_element(e,"BUTTON",{class:!0});var r=children(t);n=claim_element(r,"P",{class:!0});var i=children(n);a=claim_text(i,"Перейти"),i.forEach(detach),c=claim_space(r),claim_component(l.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(n,"class","text-xs text-black mr-0.5"),attr(t,"class","px-2 py-1 border-2 border-black flex items-center justify-center mt-0.5")},m(e,m){insert(e,t,m),append(t,n),append(n,a),append(t,c),mount_component(l,t,null),r=!0,i||(o=listen(t,"click",s),i=!0)},p(t,n){e=t},i(e){r||(transition_in(l.$$.fragment,e),r=!0)},o(e){transition_out(l.$$.fragment,e),r=!1},d(e){e&&detach(t),destroy_component(l),i=!1,o()}}}function create_if_block_6(e){let t,n,a,c,l,r;return n=new SimpleIcon({props:{name:"check",attrs:{class:"w-4 h-4 text-white","stroke-width":"2.5"}}}),{c(){t=element("button"),create_component(n.$$.fragment),a=space(),c=element("p"),l=text("Вы тут"),this.h()},l(e){t=claim_element(e,"BUTTON",{class:!0});var r=children(t);claim_component(n.$$.fragment,r),a=claim_space(r),c=claim_element(r,"P",{class:!0});var i=children(c);l=claim_text(i,"Вы тут"),i.forEach(detach),r.forEach(detach),this.h()},h(){attr(c,"class","text-xs text-white ml-0.5"),attr(t,"class","px-2 py-1 bg-black flex items-center justify-center mt-0.5")},m(e,i){insert(e,t,i),mount_component(n,t,null),append(t,a),append(t,c),append(c,l),r=!0},p:noop,i(e){r||(transition_in(n.$$.fragment,e),r=!0)},o(e){transition_out(n.$$.fragment,e),r=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_each_block_2(e){let t,n,a,c,l,r,i,o,s,m,_,p,d,h=e[17].title+"",u=e[17].icon&&create_if_block_8(e),f=e[17].description&&create_if_block_7(e);const g=[create_if_block_6,create_else_block_2],$=[];function b(e,t){return e[17]==e[1]?0:1}return m=b(e),_=$[m]=g[m](e),{c(){t=element("div"),n=element("div"),a=element("div"),u&&u.c(),c=space(),l=element("div"),r=element("h1"),i=text(h),o=space(),f&&f.c(),s=space(),_.c(),p=space(),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var m=children(t);n=claim_element(m,"DIV",{class:!0});var d=children(n);a=claim_element(d,"DIV",{class:!0});var g=children(a);u&&u.l(g),c=claim_space(g),l=claim_element(g,"DIV",{});var $=children(l);r=claim_element($,"H1",{class:!0});var b=children(r);i=claim_text(b,h),b.forEach(detach),o=claim_space($),f&&f.l($),$.forEach(detach),g.forEach(detach),s=claim_space(d),_.l(d),d.forEach(detach),p=claim_space(m),m.forEach(detach),this.h()},h(){attr(r,"class","text-md text-black font-medium"),attr(a,"class","flex items-start w-2/3"),attr(n,"class","flex items-start justify-between"),attr(t,"class","w-full border-t-2 border-gray-300 p-2")},m(e,_){insert(e,t,_),append(t,n),append(n,a),u&&u.m(a,null),append(a,c),append(a,l),append(l,r),append(r,i),append(l,o),f&&f.m(l,null),append(n,s),$[m].m(n,null),append(t,p),d=!0},p(e,t){e[17].icon?u?(u.p(e,t),4&t&&transition_in(u,1)):(u=create_if_block_8(e),u.c(),transition_in(u,1),u.m(a,c)):u&&(group_outros(),transition_out(u,1,1,(()=>{u=null})),check_outros()),(!d||4&t)&&h!==(h=e[17].title+"")&&set_data(i,h),e[17].description?f?f.p(e,t):(f=create_if_block_7(e),f.c(),f.m(l,null)):f&&(f.d(1),f=null);let r=m;m=b(e),m===r?$[m].p(e,t):(group_outros(),transition_out($[r],1,1,(()=>{$[r]=null})),check_outros(),_=$[m],_?_.p(e,t):(_=$[m]=g[m](e),_.c()),transition_in(_,1),_.m(n,null))},i(e){d||(transition_in(u),transition_in(_),d=!0)},o(e){transition_out(u),transition_out(_),d=!1},d(e){e&&detach(t),u&&u.d(),f&&f.d(),$[m].d()}}}function create_if_block_2(e){let t,n,a,c,l,r,i,o,s,m,_,p=e[14].title+"",d=e[14].description+"";function h(...t){return e[9](e[14],...t)}let u=e[2].list.filter(h),f=[];for(let $=0;$<u.length;$+=1)f[$]=create_each_block_1(get_each_context_1(e,u,$));const g=e=>transition_out(f[e],1,1,(()=>{f[e]=null}));return{c(){t=element("div"),n=element("div"),a=element("h1"),c=text(p),l=space(),r=element("p"),i=text(d),o=space(),s=element("div");for(let e=0;e<f.length;e+=1)f[e].c();m=space(),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var _=children(t);n=claim_element(_,"DIV",{class:!0});var h=children(n);a=claim_element(h,"H1",{class:!0});var u=children(a);c=claim_text(u,p),u.forEach(detach),l=claim_space(h),r=claim_element(h,"P",{class:!0});var g=children(r);i=claim_text(g,d),g.forEach(detach),h.forEach(detach),o=claim_space(_),s=claim_element(_,"DIV",{class:!0});var $=children(s);for(let t=0;t<f.length;t+=1)f[t].l($);$.forEach(detach),m=claim_space(_),_.forEach(detach),this.h()},h(){attr(a,"class","text-md text-black font-medium"),attr(r,"class","text-xs text-black opacity-80"),attr(n,"class","w-full px-2"),attr(s,"class","mt-4"),attr(t,"class","w-auto relative")},m(e,p){insert(e,t,p),append(t,n),append(n,a),append(a,c),append(n,l),append(n,r),append(r,i),append(t,o),append(t,s);for(let t=0;t<f.length;t+=1)f[t].m(s,null);append(t,m),_=!0},p(t,n){if(e=t,14&n){let t;for(u=e[2].list.filter(h),t=0;t<u.length;t+=1){const a=get_each_context_1(e,u,t);f[t]?(f[t].p(a,n),transition_in(f[t],1)):(f[t]=create_each_block_1(a),f[t].c(),transition_in(f[t],1),f[t].m(s,null))}for(group_outros(),t=u.length;t<f.length;t+=1)g(t);check_outros()}},i(e){if(!_){for(let e=0;e<u.length;e+=1)transition_in(f[e]);_=!0}},o(e){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)transition_out(f[t]);_=!1},d(e){e&&detach(t),destroy_each(f,e)}}}function create_if_block_5(e){let t,n,a;return n=new SimpleIcon({props:{name:e[17].icon,attrs:{class:"w-4 h-4 text-white","stroke-width":"2.5"}}}),{c(){t=element("div"),create_component(n.$$.fragment),this.h()},l(e){t=claim_element(e,"DIV",{style:!0,class:!0});var a=children(t);claim_component(n.$$.fragment,a),a.forEach(detach),this.h()},h(){var n;set_style(t,"background-color",null!=(n=e[17].iconColor)?n:"#fbbf24"),attr(t,"class","p-1.5 mr-2 mt-0.5 rounded-full")},m(e,c){insert(e,t,c),mount_component(n,t,null),a=!0},p(e,c){var l;const r={};4&c&&(r.name=e[17].icon),n.$set(r),(!a||4&c)&&set_style(t,"background-color",null!=(l=e[17].iconColor)?l:"#fbbf24")},i(e){a||(transition_in(n.$$.fragment,e),a=!0)},o(e){transition_out(n.$$.fragment,e),a=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_if_block_4(e){let t,n=e[17].description+"";return{c(){t=element("p"),this.h()},l(e){t=claim_element(e,"P",{class:!0}),children(t).forEach(detach),this.h()},h(){attr(t,"class","text-xs text-black opacity-80")},m(e,a){insert(e,t,a),t.innerHTML=n},p(e,a){4&a&&n!==(n=e[17].description+"")&&(t.innerHTML=n)},d(e){e&&detach(t)}}}function create_else_block$1(e){let t,n,a,c,l,r,i,o;function s(){return e[10](e[17])}return l=new SimpleIcon({props:{name:"chevron-right",attrs:{class:"w-4 h-4 text-black","stroke-width":"2.5"}}}),{c(){t=element("button"),n=element("p"),a=text("Перейти"),c=space(),create_component(l.$$.fragment),this.h()},l(e){t=claim_element(e,"BUTTON",{class:!0});var r=children(t);n=claim_element(r,"P",{class:!0});var i=children(n);a=claim_text(i,"Перейти"),i.forEach(detach),c=claim_space(r),claim_component(l.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(n,"class","text-xs text-black mr-0.5"),attr(t,"class","px-2 py-1 border-2 border-black flex items-center justify-center mt-0.5")},m(e,m){insert(e,t,m),append(t,n),append(n,a),append(t,c),mount_component(l,t,null),r=!0,i||(o=listen(t,"click",s),i=!0)},p(t,n){e=t},i(e){r||(transition_in(l.$$.fragment,e),r=!0)},o(e){transition_out(l.$$.fragment,e),r=!1},d(e){e&&detach(t),destroy_component(l),i=!1,o()}}}function create_if_block_3(e){let t,n,a,c,l,r;return n=new SimpleIcon({props:{name:"check",attrs:{class:"w-4 h-4 text-white","stroke-width":"2.5"}}}),{c(){t=element("button"),create_component(n.$$.fragment),a=space(),c=element("p"),l=text("Вы тут"),this.h()},l(e){t=claim_element(e,"BUTTON",{class:!0});var r=children(t);claim_component(n.$$.fragment,r),a=claim_space(r),c=claim_element(r,"P",{class:!0});var i=children(c);l=claim_text(i,"Вы тут"),i.forEach(detach),r.forEach(detach),this.h()},h(){attr(c,"class","text-xs text-white ml-0.5"),attr(t,"class","px-2 py-1 bg-black flex items-center justify-center mt-0.5")},m(e,i){insert(e,t,i),mount_component(n,t,null),append(t,a),append(t,c),append(c,l),r=!0},p:noop,i(e){r||(transition_in(n.$$.fragment,e),r=!0)},o(e){transition_out(n.$$.fragment,e),r=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_each_block_1(e){let t,n,a,c,l,r,i,o,s,m,_,p,d,h=e[17].title+"",u=e[17].icon&&create_if_block_5(e),f=e[17].description&&create_if_block_4(e);const g=[create_if_block_3,create_else_block$1],$=[];function b(e,t){return e[17]==e[1]?0:1}return m=b(e),_=$[m]=g[m](e),{c(){t=element("div"),n=element("div"),a=element("div"),u&&u.c(),c=space(),l=element("div"),r=element("h1"),i=text(h),o=space(),f&&f.c(),s=space(),_.c(),p=space(),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var m=children(t);n=claim_element(m,"DIV",{class:!0});var d=children(n);a=claim_element(d,"DIV",{class:!0});var g=children(a);u&&u.l(g),c=claim_space(g),l=claim_element(g,"DIV",{});var $=children(l);r=claim_element($,"H1",{class:!0});var b=children(r);i=claim_text(b,h),b.forEach(detach),o=claim_space($),f&&f.l($),$.forEach(detach),g.forEach(detach),s=claim_space(d),_.l(d),d.forEach(detach),p=claim_space(m),m.forEach(detach),this.h()},h(){attr(r,"class","text-md text-black font-medium"),attr(a,"class","flex items-start w-2/3"),attr(n,"class","flex items-start justify-between"),attr(t,"class","w-full border-t-2 border-gray-300 p-2")},m(e,_){insert(e,t,_),append(t,n),append(n,a),u&&u.m(a,null),append(a,c),append(a,l),append(l,r),append(r,i),append(l,o),f&&f.m(l,null),append(n,s),$[m].m(n,null),append(t,p),d=!0},p(e,t){e[17].icon?u?(u.p(e,t),4&t&&transition_in(u,1)):(u=create_if_block_5(e),u.c(),transition_in(u,1),u.m(a,c)):u&&(group_outros(),transition_out(u,1,1,(()=>{u=null})),check_outros()),(!d||4&t)&&h!==(h=e[17].title+"")&&set_data(i,h),e[17].description?f?f.p(e,t):(f=create_if_block_4(e),f.c(),f.m(l,null)):f&&(f.d(1),f=null);let r=m;m=b(e),m===r?$[m].p(e,t):(group_outros(),transition_out($[r],1,1,(()=>{$[r]=null})),check_outros(),_=$[m],_?_.p(e,t):(_=$[m]=g[m](e),_.c()),transition_in(_,1),_.m(n,null))},i(e){d||(transition_in(u),transition_in(_),d=!0)},o(e){transition_out(u),transition_out(_),d=!1},d(e){e&&detach(t),u&&u.d(),f&&f.d(),$[m].d()}}}function create_each_block(e){let t,n,a=e[2].list.filter(c).length>0;function c(...t){return e[7](e[14],...t)}let l=a&&create_if_block_2(e);return{c(){l&&l.c(),t=empty()},l(e){l&&l.l(e),t=empty()},m(e,a){l&&l.m(e,a),insert(e,t,a),n=!0},p(n,r){e=n,4&r&&(a=e[2].list.filter(c).length>0),a?l?(l.p(e,r),4&r&&transition_in(l,1)):(l=create_if_block_2(e),l.c(),transition_in(l,1),l.m(t.parentNode,t)):l&&(group_outros(),transition_out(l,1,1,(()=>{l=null})),check_outros())},i(e){n||(transition_in(l),n=!0)},o(e){transition_out(l),n=!1},d(e){l&&l.d(e),e&&detach(t)}}}function create_fragment$3(e){var t,n;let a,c,l,r,i,o,s,m,_,p,d=(null!=(n=null==(t=e[1])?void 0:t.title)?n:"Неизвестно")+"";o=new SimpleIcon({props:{name:e[0]?"chevron-up":"chevron-down",attrs:{class:"w-4 h-4 text-black","stroke-width":"2.5"}}});let h=e[0]&&create_if_block$2(e);return{c(){a=element("div"),c=element("button"),l=element("p"),r=text(d),i=space(),create_component(o.$$.fragment),s=space(),h&&h.c(),this.h()},l(e){a=claim_element(e,"DIV",{class:!0});var t=children(a);c=claim_element(t,"BUTTON",{id:!0,class:!0});var n=children(c);l=claim_element(n,"P",{class:!0});var m=children(l);r=claim_text(m,d),m.forEach(detach),i=claim_space(n),claim_component(o.$$.fragment,n),n.forEach(detach),s=claim_space(t),h&&h.l(t),t.forEach(detach),this.h()},h(){attr(l,"class","text-sm text-black mr-2"),attr(c,"id","currentPageBadge-button"),attr(c,"class","px-4 w-48 py-2 border-2 border-black flex items-center justify-center"),attr(a,"class","mx-4 relative")},m(t,n){insert(t,a,n),append(a,c),append(c,l),append(l,r),append(c,i),mount_component(o,c,null),append(a,s),h&&h.m(a,null),m=!0,_||(p=listen(c,"click",e[8]),_=!0)},p(e,[t]){var n,c;(!m||2&t)&&d!==(d=(null!=(c=null==(n=e[1])?void 0:n.title)?c:"Неизвестно")+"")&&set_data(r,d);const l={};1&t&&(l.name=e[0]?"chevron-up":"chevron-down"),o.$set(l),e[0]?h?(h.p(e,t),1&t&&transition_in(h,1)):(h=create_if_block$2(e),h.c(),transition_in(h,1),h.m(a,null)):h&&(group_outros(),transition_out(h,1,1,(()=>{h=null})),check_outros())},i(e){m||(transition_in(o.$$.fragment,e),transition_in(h),m=!0)},o(e){transition_out(o.$$.fragment,e),transition_out(h),m=!1},d(e){e&&detach(a),destroy_component(o),h&&h.d(),_=!1,p()}}}function instance$2($$self,$$props,$$invalidate){let currentPage,$page,$AvailablePages;component_subscribe($$self,page,(e=>$$invalidate(6,$page=e))),component_subscribe($$self,AvailablePages,(e=>$$invalidate(2,$AvailablePages=e)));let popoverVisible=!1,currentCategoryId;function redirect(redirectUrl){let url;eval(`url = \`${redirectUrl}\``),goto(url)}function popoverSwitch(){document.removeEventListener("click",onClickListener),$$invalidate(0,popoverVisible=!popoverVisible),setTimeout((()=>{popoverVisible&&document.addEventListener("click",onClickListener)}),500)}function onClickListener(e){if(!popoverVisible)return;const t=document.getElementById("currentPageBadge-popover"),n=document.getElementById("currentPageBadge-button");let a=e.target;do{if(a==t||a==n)return;a=a.parentNode}while(a);$$invalidate(0,popoverVisible=!1)}page.subscribe((()=>{popoverVisible&&$$invalidate(0,popoverVisible=!1)})),onMount((()=>{document.addEventListener("openPageExplorer",popoverSwitch),$$invalidate(5,currentCategoryId=null==currentPage?void 0:currentPage.category)})),onDestroy((()=>{document.removeEventListener("openPageExplorer",popoverSwitch)}));const func=(e,t)=>t.category==e.id,click_handler=()=>popoverSwitch(),func_1=(e,t)=>t.category==e.id,click_handler_1=e=>{redirect(e.url)},click_handler_2=e=>{redirect(e.url)};return $$self.$$.update=()=>{32&$$self.$$.dirty&&Categories.filter((e=>e.id==currentCategoryId))[0],64&$$self.$$.dirty&&$$invalidate(1,currentPage=Pages.filter((e=>e.regex.test($page.path)))[0])},[popoverVisible,currentPage,$AvailablePages,redirect,popoverSwitch,currentCategoryId,$page,func,click_handler,func_1,click_handler_1,click_handler_2]}class CurrentPageBadge extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$3,safe_not_equal,{})}}function create_if_block_1$1(e){var t;let n,a,c,l,r,i,o,s,m=(null==(t=e[0].project)?void 0:t.name)+"";return i=new SimpleIcon({props:{name:"chevron-down",attrs:{class:"w-4 h-4 text-white","stroke-width":"2.5"}}}),{c(){n=element("button"),a=element("h1"),c=text(m),l=space(),r=element("div"),create_component(i.$$.fragment),this.h()},l(e){n=claim_element(e,"BUTTON",{class:!0});var t=children(n);a=claim_element(t,"H1",{class:!0});var o=children(a);c=claim_text(o,m),o.forEach(detach),l=claim_space(t),r=claim_element(t,"DIV",{class:!0});var s=children(r);claim_component(i.$$.fragment,s),s.forEach(detach),t.forEach(detach),this.h()},h(){attr(a,"class","text-white text-sm mr-2"),attr(r,"class","flex items-center"),attr(n,"class","ml-6 px-4 py-2 bg-black rounded-sm flex items-center justify-center")},m(e,t){insert(e,n,t),append(n,a),append(a,c),append(n,l),append(n,r),mount_component(i,r,null),s=!0},p(e,t){var n;(!s||1&t)&&m!==(m=(null==(n=e[0].project)?void 0:n.name)+"")&&set_data(c,m)},i(e){s||(transition_in(i.$$.fragment,e),add_render_callback((()=>{o||(o=create_bidirectional_transition(n,fade,{},!0)),o.run(1)})),s=!0)},o(e){transition_out(i.$$.fragment,e),o||(o=create_bidirectional_transition(n,fade,{},!1)),o.run(0),s=!1},d(e){e&&detach(n),destroy_component(i),e&&o&&o.end()}}}function create_if_block$1(e){let t,n,a,c;return n=new SimpleIcon({props:{name:"command",attrs:{class:"w-4 h-4","stroke-width":"2.5"}}}),{c(){t=element("button"),create_component(n.$$.fragment),this.h()},l(e){t=claim_element(e,"BUTTON",{class:!0});var a=children(t);claim_component(n.$$.fragment,a),a.forEach(detach),this.h()},h(){attr(t,"class","px-4 py-2 border-2 border-black flex items-center")},m(e,a){insert(e,t,a),mount_component(n,t,null),c=!0},i(e){c||(transition_in(n.$$.fragment,e),add_render_callback((()=>{a||(a=create_bidirectional_transition(t,fade,{},!0)),a.run(1)})),c=!0)},o(e){transition_out(n.$$.fragment,e),a||(a=create_bidirectional_transition(t,fade,{},!1)),a.run(0),c=!1},d(e){e&&detach(t),destroy_component(n),e&&a&&a.end()}}}function create_fragment$2(e){var t,n,a,c,l,r,i;let o,s,m,_,p,d,h,u,f,g,$,b,v,k,x,y,w,E,I,P,V,D,j,C,S=(null!=(a=null==(n=null==(t=e[1])?void 0:t.profile)?void 0:n.username)?a:"Default profile")+"",T=(null==(l=null==(c=e[1])?void 0:c.profile)?void 0:l.email)+"",B=e[0].loaded&&null!=(null==(r=e[0].project)?void 0:r._id)&&create_if_block_1$1(e);u=new CurrentPageBadge({});let H=e[0].loaded&&null!=(null==(i=e[0].project)?void 0:i._id)&&create_if_block$1();return j=new SimpleIcon({props:{name:"chevron-down",attrs:{class:"w-5 h-5 text-white","stroke-width":"2.5"}}}),{c(){o=element("header"),s=element("div"),m=element("div"),_=element("img"),d=space(),B&&B.c(),h=space(),create_component(u.$$.fragment),f=space(),H&&H.c(),g=space(),$=element("div"),b=element("button"),v=element("div"),k=space(),x=element("div"),y=element("h1"),w=text(S),E=space(),I=element("p"),P=text(T),V=space(),D=element("div"),create_component(j.$$.fragment),this.h()},l(e){o=claim_element(e,"HEADER",{class:!0});var t=children(o);s=claim_element(t,"DIV",{class:!0});var n=children(s);m=claim_element(n,"DIV",{class:!0});var a=children(m);_=claim_element(a,"IMG",{src:!0,alt:!0,class:!0}),a.forEach(detach),d=claim_space(n),B&&B.l(n),h=claim_space(n),claim_component(u.$$.fragment,n),f=claim_space(n),H&&H.l(n),n.forEach(detach),g=claim_space(t),$=claim_element(t,"DIV",{class:!0});var c=children($);b=claim_element(c,"BUTTON",{class:!0});var l=children(b);v=claim_element(l,"DIV",{class:!0}),children(v).forEach(detach),k=claim_space(l),x=claim_element(l,"DIV",{class:!0});var r=children(x);y=claim_element(r,"H1",{class:!0});var i=children(y);w=claim_text(i,S),i.forEach(detach),E=claim_space(r),I=claim_element(r,"P",{class:!0});var p=children(I);P=claim_text(p,T),p.forEach(detach),r.forEach(detach),V=claim_space(l),D=claim_element(l,"DIV",{class:!0});var C=children(D);claim_component(j.$$.fragment,C),C.forEach(detach),l.forEach(detach),c.forEach(detach),t.forEach(detach),this.h()},h(){_.src!==(p="https://res.cloudinary.com/lococovu-cdn/image/upload/v1636810372/bluk-studio-black.svg")&&attr(_,"src","https://res.cloudinary.com/lococovu-cdn/image/upload/v1636810372/bluk-studio-black.svg"),attr(_,"alt","bluk.studio white logotype"),attr(_,"class","w-8 h-8"),attr(m,"class","flex items-center"),attr(s,"class","flex items-stretch"),attr(v,"class","w-7 h-7 bg-red-500 rounded-full"),attr(y,"class","text-xs text-white font-medium"),attr(I,"class","text-xs text-white opacity-80"),attr(x,"class","mx-3 text-left"),attr(D,"class","flex items-center"),attr(b,"class","px-4 py-2 bg-black rounded-sm flex items-center justify-center"),attr($,"class","flex items-stretch"),attr(o,"class","absolute z-10 inset-x-0 top-0 w-full flex items-center justify-between bg-gray-100 py-2 px-6")},m(e,t){insert(e,o,t),append(o,s),append(s,m),append(m,_),append(s,d),B&&B.m(s,null),append(s,h),mount_component(u,s,null),append(s,f),H&&H.m(s,null),append(o,g),append(o,$),append($,b),append(b,v),append(b,k),append(b,x),append(x,y),append(y,w),append(x,E),append(x,I),append(I,P),append(b,V),append(b,D),mount_component(j,D,null),C=!0},p(e,[t]){var n,a,c,l,r,i,o;e[0].loaded&&null!=(null==(n=e[0].project)?void 0:n._id)?B?(B.p(e,t),1&t&&transition_in(B,1)):(B=create_if_block_1$1(e),B.c(),transition_in(B,1),B.m(s,h)):B&&(group_outros(),transition_out(B,1,1,(()=>{B=null})),check_outros()),e[0].loaded&&null!=(null==(a=e[0].project)?void 0:a._id)?H?1&t&&transition_in(H,1):(H=create_if_block$1(),H.c(),transition_in(H,1),H.m(s,null)):H&&(group_outros(),transition_out(H,1,1,(()=>{H=null})),check_outros()),(!C||2&t)&&S!==(S=(null!=(r=null==(l=null==(c=e[1])?void 0:c.profile)?void 0:l.username)?r:"Default profile")+"")&&set_data(w,S),(!C||2&t)&&T!==(T=(null==(o=null==(i=e[1])?void 0:i.profile)?void 0:o.email)+"")&&set_data(P,T)},i(e){C||(transition_in(B),transition_in(u.$$.fragment,e),transition_in(H),transition_in(j.$$.fragment,e),C=!0)},o(e){transition_out(B),transition_out(u.$$.fragment,e),transition_out(H),transition_out(j.$$.fragment,e),C=!1},d(e){e&&detach(o),B&&B.d(),destroy_component(u),H&&H.d(),destroy_component(j)}}}function instance$1(e,t,n){let a,c;return component_subscribe(e,CurrentProject,(e=>n(0,a=e))),component_subscribe(e,CurrentProfile,(e=>n(1,c=e))),[a,c]}class ApplicationHeader extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$2,safe_not_equal,{})}}function create_fragment$1(e){let t;return{c(){t=element("header")},l(e){t=claim_element(e,"HEADER",{}),children(t).forEach(detach)},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}class EditorHeader extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$1,safe_not_equal,{})}}function create_else_block_1(e){let t,n,a;return n=new RadialSpinner({props:{color:"#000",size:15}}),{c(){t=element("div"),create_component(n.$$.fragment),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var a=children(t);claim_component(n.$$.fragment,a),a.forEach(detach),this.h()},h(){attr(t,"class","w-full h-screen flex items-center justify-center")},m(e,c){insert(e,t,c),mount_component(n,t,null),a=!0},p:noop,i(e){a||(transition_in(n.$$.fragment,e),a=!0)},o(e){transition_out(n.$$.fragment,e),a=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_if_block(e){let t,n,a,c,l,r;const i=[create_if_block_1,create_else_block],o=[];function s(e,n){return 2&n&&(t=!!e[1].path.includes("editor")),t?0:1}n=s(e,-1),a=o[n]=i[n](e);const m=e[3].default,_=create_slot(m,e,e[2],null);return{c(){a.c(),c=space(),l=element("div"),_&&_.c(),this.h()},l(e){a.l(e),c=claim_space(e),l=claim_element(e,"DIV",{class:!0});var t=children(l);_&&_.l(t),t.forEach(detach),this.h()},h(){attr(l,"class","w-full h-screen relative overflow-y-auto pt-16")},m(e,t){o[n].m(e,t),insert(e,c,t),insert(e,l,t),_&&_.m(l,null),r=!0},p(e,t){let l=n;n=s(e,t),n!==l&&(group_outros(),transition_out(o[l],1,1,(()=>{o[l]=null})),check_outros(),a=o[n],a||(a=o[n]=i[n](e),a.c()),transition_in(a,1),a.m(c.parentNode,c)),_&&_.p&&(!r||4&t)&&update_slot(_,m,e,e[2],r?t:-1,null,null)},i(e){r||(transition_in(a),transition_in(_,e),r=!0)},o(e){transition_out(a),transition_out(_,e),r=!1},d(e){o[n].d(e),e&&detach(c),e&&detach(l),_&&_.d(e)}}}function create_else_block(e){let t,n;return t=new ApplicationHeader({}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,a){mount_component(t,e,a),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_if_block_1(e){let t,n;return t=new EditorHeader({}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,a){mount_component(t,e,a),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_fragment(e){let t,n,a,c;const l=[create_if_block,create_else_block_1],r=[];function i(e,t){var n;return(null==(n=e[0])?void 0:n.loggedIn)?0:1}return n=i(e),a=r[n]=l[n](e),{c(){t=element("main"),a.c(),this.h()},l(e){t=claim_element(e,"MAIN",{class:!0});var n=children(t);a.l(n),n.forEach(detach),this.h()},h(){attr(t,"class","flex flex-col")},m(e,a){insert(e,t,a),r[n].m(t,null),c=!0},p(e,[c]){let o=n;n=i(e),n===o?r[n].p(e,c):(group_outros(),transition_out(r[o],1,1,(()=>{r[o]=null})),check_outros(),a=r[n],a?a.p(e,c):(a=r[n]=l[n](e),a.c()),transition_in(a,1),a.m(t,null))},i(e){c||(transition_in(a),c=!0)},o(e){transition_out(a),c=!1},d(e){e&&detach(t),r[n].d()}}}function instance(e,t,n){let a,c;component_subscribe(e,CurrentProfile,(e=>n(0,a=e))),component_subscribe(e,page,(e=>n(1,c=e)));let{$$slots:l={},$$scope:r}=t;return onMount((()=>{CurrentProfile.fetchMe().then((()=>{ProfileProjects.fetch()})).catch((()=>{goto("/login")}))})),e.$$set=e=>{"$$scope"in e&&n(2,r=e.$$scope)},[a,c,r,l]}class _layout extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{})}}export default _layout;
